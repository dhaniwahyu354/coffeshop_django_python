{% extends 'base_auth.html' %}

{% block title %}Register{% endblock %}

{% block content %}
<div class="container-xxl">
  <div class="authentication-wrapper authentication-basic container-p-y">
    <div class="authentication-inner">
      <!-- Register Card -->
      <div class="card">
        <div class="card-body">
          <!-- Logo -->
          <div class="app-brand justify-content-center mb-4">
            <a href="{% url 'dashboard' %}" class="app-brand-link gap-2">
              <span class="app-brand-logo demo">
                <!-- Tambahkan SVG logo di sini jika perlu -->
                <img src="{% static 'assets/img/icons/custom/coffee-cup.png' %}" alt="Logo" width="35" height="35" />
              </span>
              <span class="app-brand-text demo text-body fw-bolder">Lembayung</span>
            </a>
          </div>
          <!-- /Logo -->

          <h4 class="mb-2 text-center">Adventure starts here ðŸš€</h4>
          <p class="mb-4 text-center">Make your app management easy and fun!</p>

          <form id="formAuthentication" method="POST" action="{% url 'register' %}">
            {% csrf_token %}
            <div class="mb-3">
              <label for="username" class="form-label">Username</label>
              <input
                type="text"
                class="form-control"
                id="username"
                name="username"
                placeholder="Enter your username"
                value="{{ request.POST.username }}"
                autofocus
              />
              {% if form.username.errors %}
                <div class="text-danger small mt-1">{{ form.username.errors.0 }}</div>
              {% endif %}
            </div>

            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                placeholder="Enter your email"
                value="{{ request.POST.email }}"
              />
              {% if form.email.errors %}
                <div class="text-danger small mt-1">{{ form.email.errors.0 }}</div>
              {% endif %}
            </div>

            <div class="mb-3 form-password-toggle">
              <label class="form-label" for="password1">Password</label>
              <div class="input-group input-group-merge">
                <input
                  type="password"
                  id="password1"
                  class="form-control"
                  name="password1"
                  placeholder="Masukkan password"
                  aria-describedby="password1"
                />
                <span class="input-group-text cursor-pointer"><i class="bx bx-hide"></i></span>
              </div>
              {% if form.password1.errors %}
                <div class="text-danger small mt-1">{{ form.password1.errors.0 }}</div>
              {% endif %}
            </div>

            <div class="mb-3 form-password-toggle">
              <label class="form-label" for="password2">Confirm Password</label>
              <div class="input-group input-group-merge">
                <input
                  type="password"
                  id="password2"
                  class="form-control"
                  name="password2"
                  placeholder="masukan konfirmasi password"
                  aria-describedby="password2"
                />
                <span class="input-group-text cursor-pointer"><i class="bx bx-hide"></i></span>
              </div>
              {% if form.password2.errors %}
                <div class="text-danger small mt-1">{{ form.password2.errors.0 }}</div>
              {% endif %}
            </div>

            <div class="mb-3">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="terms-conditions" name="terms" {% if request.POST.terms %}checked{% endif %} />
                <label class="form-check-label" for="terms-conditions">
                  I agree to
                  <a href="{% url 'privacy_policy' %}">privacy policy & terms</a>
                </label>
                {% if form.terms.errors %}
                  <div class="text-danger small mt-1">{{ form.terms.errors.0 }}</div>
                {% endif %}
              </div>
            </div>

            <button class="btn btn-primary d-grid w-100" type="submit">Sign up</button>
          </form>

          <p class="text-center mt-3">
            <span>Already have an account?</span>
            <a href="{% url 'login' %}">
              <span>Sign in instead</span>
            </a>
          </p>
        </div>
      </div>
      <!-- /Register Card -->
    </div>
  </div>
</div>
{% endblock %}
